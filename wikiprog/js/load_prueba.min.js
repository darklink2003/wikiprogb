document.addEventListener("DOMContentLoaded",(function(){const e=new URLSearchParams(window.location.search),t=e.get("curso_id"),n=e.get("inscripción_id");e.get("prueba_id");function a(e){if(!e)return void console.error("No se proporcionó un inscripción_id válido.");const t=document.getElementById("respuestas-container");t.innerHTML="<p>Loading...</p>",axios.get(`../model/get_respuestas.php?inscripción_id=${e}`).then((function(e){t.innerHTML="",e.data.length>0?e.data.forEach((function(e){const n=document.createElement("div");n.classList.add("container","respuesta-item");const a=document.createElement("div");a.classList.add("row");const o=document.createElement("h2");o.textContent=e.archivo_respuesta,a.appendChild(o);const s=document.createElement("div");s.classList.add("row");const i=document.createElement("h1");i.textContent=e.fec_reg,s.appendChild(i);const c=document.createElement("div");c.classList.add("row");const d=document.createElement("a");d.textContent="Descargar",d.href=`../archivos_respuesta/${e.archivo_respuesta}`,d.setAttribute("download",""),d.classList.add("btn","btn-primary","btn-sm"),c.appendChild(d);const p=document.createElement("div");p.classList.add("row");const l=document.createElement("button");l.textContent="Eliminar",l.classList.add("btn","btn-danger","btn-sm"),l.dataset.respuestaId=e.respuesta_id,l.addEventListener("click",(function(){r(e.respuesta_id)})),p.appendChild(l),n.appendChild(a),n.appendChild(s),n.appendChild(c),n.appendChild(p),t.appendChild(n)})):t.innerHTML="<p>No se encontraron respuestas para esta inscripción.</p>"})).catch((function(e){console.error("Error al cargar las respuestas:",e),t.innerHTML="<p>Hubo un error al cargar las respuestas. Por favor, intenta nuevamente más tarde.</p>"}))}function r(e){e?confirm("¿Estás seguro de que quieres eliminar esta respuesta?")&&axios.post("../model/eliminar_respuesta.php",{respuesta_id:e}).then((function(e){e.data.success?(alert("Respuesta eliminada exitosamente."),a(n)):alert("Error al eliminar la respuesta.")})).catch((function(e){console.error("Error al eliminar la respuesta:",e),alert("Hubo un error al eliminar la respuesta. Por favor, intenta nuevamente más tarde.")})):console.error("No se proporcionó un respuesta_id válido.")}t&&function(e){if(!e)return void console.error("No se proporcionó un curso_id válido.");const t=document.getElementById("pruebas-container");t.innerHTML="<p>Loading...</p>",axios.get(`../model/get_pruebas.php?curso_id=${e}`).then((function(e){if(t.innerHTML="",e.data.length>0){e.data.forEach((function(e){const n=document.createElement("div");n.classList.add("container","prueba-item");const a=document.createElement("div");a.classList.add("row");const r=document.createElement("h2");r.textContent=e.titulo_prueba,a.appendChild(r);const o=document.createElement("div");o.classList.add("row");const s=document.createElement("h1");s.textContent=e.contenido,o.appendChild(s);const i=document.createElement("div");i.classList.add("row");const c=document.createElement("h1");c.textContent=e.fec_reg,i.appendChild(c);const d=document.createElement("div");d.classList.add("row");const p=document.createElement("a");p.textContent="Descargar",p.href=`../archivos_prueba/${e.archivo_prueba}`,p.setAttribute("download",""),p.classList.add("btn","btn-primary","btn-sm"),d.appendChild(p),n.appendChild(a),n.appendChild(o),n.appendChild(i),n.appendChild(d),t.appendChild(n)}));const n=document.getElementById("prueba_id");n&&(n.value=e.data[0].prueba_id)}else t.innerHTML="<p>No se encontraron pruebas para este curso.</p>"})).catch((function(e){console.error("Error al cargar las pruebas:",e),t.innerHTML="<p>Hubo un error al cargar las pruebas. Por favor, intenta nuevamente más tarde.</p>"}))}(t),n&&a(n);const o=document.getElementById("inscripción_id");n?o.value=n:console.error("No se proporcionó un inscripción_id válido.")}));