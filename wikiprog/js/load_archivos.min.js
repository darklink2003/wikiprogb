document.addEventListener("DOMContentLoaded",(function(){const e=new URLSearchParams(window.location.search).get("usuario_id");function n(e){e?axios.get(`../model/get_archivos.php?usuario_id=${e}`).then((function(e){const n=document.getElementById("archivos-container");if(n.innerHTML="",e.data.length>0)e.data.forEach((function(e,o){const a=document.createElement("div");a.classList.add("archivo-container");const r=o%2==0?"#282F44":"#191D32";a.style.backgroundColor=r;const c=document.createElement("div");c.classList.add("row");const d=document.createElement("div");d.classList.add("col-md-2");const i=document.createElement("p");i.innerHTML=`<strong>Nombre:</strong> ${e.nombre_archivo}`,d.appendChild(i);const s=document.createElement("div");s.classList.add("col-md-2");const l=document.createElement("p");l.innerHTML=`<strong>Tamaño:</strong><br> ${e.tamaño}`,s.appendChild(l);const m=document.createElement("div");m.classList.add("col-md-3");const u=document.createElement("p");u.innerHTML=`<strong>Fecha de Registro:</strong> ${e.fecha_registro}`,m.appendChild(u);const p=document.createElement("div");p.classList.add("col-md-2");const h=document.createElement("p");h.innerHTML="<strong>Privacidad:</strong> "+(1==e.privacidad_id?"Privada":"Pública"),p.appendChild(h);const v=document.createElement("div");v.classList.add("col-md-3","text-end");const E=document.createElement("a");E.textContent="Descargar",E.href=`../archivos_usuarios/${e.nombre_archivo}`,E.setAttribute("download",""),E.classList.add("btn","btn-primary","btn-sm","ms-1"),v.appendChild(E);const g=document.createElement("a");g.textContent="Eliminar",g.href="javascript:void(0);",g.classList.add("btn","btn-danger","btn-sm","ms-1"),g.addEventListener("click",(function(){t(e.archivo_id)})),v.appendChild(g),c.appendChild(d),c.appendChild(s),c.appendChild(m),c.appendChild(p),c.appendChild(v),a.appendChild(c),n.appendChild(a)}));else{const e=document.createElement("p");e.textContent="No se encontraron archivos para este usuario.",n.appendChild(e)}})).catch((function(e){console.error("Error al cargar los archivos:",e);const n=document.getElementById("archivos-container"),t=document.createElement("p");t.textContent="Hubo un error al cargar los archivos. Por favor, intenta nuevamente más tarde.",n.appendChild(t)})):console.error("No se proporcionó un usuario_id válido.")}function t(t){confirm("¿Estás seguro de que deseas eliminar este archivo?")&&axios.delete(`../model/delte_archivo.php?archivo_id=${t}`).then((function(t){console.log(t.data),n(e)})).catch((function(e){console.error("Error al eliminar el archivo:",e),alert("Hubo un error al eliminar el archivo. Intenta nuevamente más tarde.")}))}n(e)}));