document.addEventListener("DOMContentLoaded",(function(){const e=new URLSearchParams(window.location.search).get("curso_id")||1;!function(e){axios.get("../model/get_courses.php").then((function(t){const n=document.getElementById("info-curso"),o=t.data.find((t=>t.curso_id==e));if(o){const e=document.createElement("h2");e.textContent=o.titulo_curso;const t=document.createElement("p");t.textContent=`Categoría ID: ${o.categoria_id}`;const c=document.createElement("p");c.textContent=o.descripcion,n.appendChild(e),n.appendChild(t),n.appendChild(c);const a=document.createElement("a");a.textContent="Inscribirse",a.href=`../controller/controlador.php?seccion=seccion8&curso_id=${o.curso_id}`,a.classList.add("btn","btn-primary","mt-3"),n.appendChild(a)}else console.error("No se encontró el curso con curso_id:",e)})).catch((function(e){console.error("Error al cargar la información del curso:",e)}))}(e),function(e){axios.get(`../model/get_lessons.php?curso_id=${e}`).then((function(e){const t=document.getElementById("lecciones-container");t.innerHTML="",e.data.forEach((function(e){const n=document.createElement("div");n.className="col mb-4";const o=document.createElement("div");o.className="leccion-container";const c=document.createElement("h2");c.textContent=e.titulo_leccion;const a=document.createElement("p");if(a.textContent=e.contenido,o.appendChild(c),o.appendChild(a),e.archivo_leccion){const t=document.createElement("a");t.textContent="Descargar archivo",t.href=e.archivo_leccion,t.setAttribute("target","_blank"),t.style.display="block",o.appendChild(t)}n.appendChild(o),t.appendChild(n)}))})).catch((function(e){console.error("Error al cargar las lecciones:",e)}))}(e),function(e){axios.get(`../model/get_comments.php?curso_id=${e}`).then((function(e){const t=document.getElementById("comentarios-container");t.innerHTML="",e.data.forEach((function(e){const n=document.createElement("div");n.className="comentario";const o=document.createElement("h4");o.textContent=e.nombre_usuario;const c=document.createElement("p");c.textContent=e.comentario;const a=document.createElement("small");a.textContent=`Publicado el: ${new Date(e.fecha_registro).toLocaleDateString()}`,n.appendChild(o),n.appendChild(c),n.appendChild(a),t.appendChild(n)}))})).catch((function(e){console.error("Error al cargar los comentarios:",e)}))}(e)}));